<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>async/await의 사용</title>
  </head>
  <body>
    <script>
      function workP(sec) {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("workP function");
          }, sec * 1000);
        });
      }
      async function asyncFunc() {
        const result_workP = await workP(3);
        console.log(result_workP);
        return "async function";
      }

      asyncFunc().then((result) => {
        console.log(result);
      });

      // await 사용법
      // async 키워드 붙은 함수 안에 lock을 걸어 놓고 싶은 부분에 await 붙임
      // 위 코드에서는 workP() 함수 호출 부분에 await 붙임
      // 원래 workP() 함수는 setTimeout()함수를 이용해서 비동기적으로 처리되지만 await를 붙여서 workP(3) 함수가 완료되기 전까지 그 밑의 구문을 실행하지 않음
    </script>
  </body>
</html>
